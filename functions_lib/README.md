# Функции для реализации проекта по исследованию и очистки данных

Проект на основе данных компании HeadHunter, которой необходимо построить модель, автоматически определяющую примерный уровень заработной платы, подходящей соискателю (исходя из информации, которую он указал о себе), включает, в том числе, этапы преобразования, исследования и очистки данных, в процессе которых были реализованы следующие функции.

* **get_education_level(arg)** - выделение из строки таблицы уровня образования соискателя по ключевому слову
* **get_experience(arg)** - выделение из строки опыта работы соискателя в месяцах
* **get_city(arg)** - отнесение города России к одной из 4 категорий (Москва, Санкт-Петербург, город-миллионник, другие)
* **get_readiness_to_move(arg)** - определение готовности соискателя к переезду
* **get_readiness_for_bisiness_trips(arg)** - определение готовности соискателя к командировкам
* **outliers_z_score(data, feature, left=3, right=3, log_scale=True)** - нахождение выбросов в данных путем использования метода z-отклонений

Функции представлены в файле **find_outliers.py**. К функциям предоставлена документация


В связи с тем, что конечной целью компании HeadHunter является построение модели, определяющей примерный уровень заработной платы соискателя, для исключения искажения результатов ее работы важно произвести должную **очистку данных**, в т.ч. осуществить поиск **_выбросов_** - значений, существенной выбивающихся из общего распределения.

В результате исследования данных в датасете были обнаружили потенциальные выбросы в признаке **"Возраст"**. Это оказались резюме людей чересчур преклонного возраста для поиска работы. В связи с чем была построена гистограмма распределения признака в **логарифмическом масштабе**, продемонстрировавшая слегка перекошенное нормальное распределение данных с правосторонней ассиметрией. 

Так как среди статистических методов поиска выбросов есть **Метод z-отклонений (метод сигм)**, применимый именно к случаям нормального распределения, была произведена модицикация метода - логарифмирование и добавление вариативности количеству стандартных отклонений в правую сторону распределения.


### Метод z-отклонений (метод сигм)

Правило трех сигм гласит: что, если распределение данных является нормальным, то 99.73% лежат в интервале: $(\mu-3 \sigma$ , $\mu+3 \sigma)$, 
где  
* $\mu$ - математическое ожидание (для выборки это среднее значение)
* $\sigma$ - стандартное отклонение. 

Наблюдения, которые лежат за пределами этого интервала будут считаться выбросами.

![](../images/method_sigm.png)

### **Алгоритм метода:**

1. Вычислить среднее и стандартное отклонение $\mu$ и $\sigma$ для признака, который мы исследуем
2. Определить верхнюю и нижнюю границы:
    * $bound_{upper} = \mu - 3 * \sigma$
    
    * $bound_{lower} = \mu + 3 * \sigma$
3. Найти наблюдения, которые выходят за пределы границ

## Использованные инструменты и библиотеки
* numpy (2.1.1)
* pandas (2.2.3)

## Дополнительные источники:
* [Нормальное распределение](https://ru.wikipedia.org/wiki/Нормальное_распределение)
* [Правило трех сигм](https://wiki.loginom.ru/articles/3-sigma-rule.html)
